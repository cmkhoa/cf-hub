/* --------------------------------------------------------------------------
 * Header (Desktop + Mobile overrides preserved)
 * --------------------------------------------------------------------------
 * Goals:
 *  - Single flex row: left (logo), center (nav + dropdowns), right (actions)
 *  - Minimal / necessary !important only for Ant Design overrides
 *  - Consistent spacing scale (4px base) / comments for quick tuning
 *  - Mobile behavior (<=768px) unchanged from previous version
 * -------------------------------------------------------------------------- */

/* Layout tokens (can be moved to a global tokens file later) */
:root {
  --header-h-pad-desktop: 32px;
  --header-h-pad-lg: 24px;
  --header-h-pad-md: 16px;
  --header-item-gap: 14px;
  --header-nav-gap: 24px;
  --header-bar-height: 54px;
  --header-total-height: 66px; /* includes padding + border */
  --transition-fast: 0.25s;
}

body { padding-top: var(--header-total-height); scroll-padding-top: var(--header-total-height); }

/* Wrapper */
.main-header.unified-header {
  background: #fff !important; /* force white even if AntD theme overrides */
  padding: 6px 0;
  border-bottom: 1px solid var(--border-light, #eee);
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000; /* keep header below overlay portals */
}

/* Explicit fallback for admin layout context */
body .ant-layout .main-header.unified-header { background:#ffffff !important; }

.nav-wrapper {
  width: 100%;
  padding: 0 var(--header-h-pad-desktop);
  display: flex;
  align-items: center;
  min-height: var(--header-bar-height);
  justify-content: space-between;
}

.nav-left, .nav-right { flex: 0 0 auto; display: flex; align-items: center; height: var(--header-bar-height); }
.nav-center { flex:1 1 auto; display:flex; align-items:center; /* changed from space-around to flex-start to reclaim width */ justify-content:flex-start; gap:16px; min-width:0; height:var(--header-bar-height); padding:0 4px; }



/* Logo */
.logo-container { display: flex; align-items: center; cursor: pointer; gap: 10px; margin-right: 20px; }
.logo-container .logo-img { width:40px; height:40px; object-fit:cover; border-radius:4px; }
.logo-text { font-size: 28px; font-weight: 700; color: light-blue; line-height:1; }

/* Right side (search + auth + mobile trigger) */
.header-right { display: flex; align-items: center; gap: var(--header-item-gap); height: var(--header-bar-height); }
.auth-buttons { display: flex; gap: 8px; }
.user-info { display: flex; align-items: center; gap: 8px; }
.user-icon { color: var(--primary-blue); font-size: 16px; }
.user-name { font-size: 14px; font-weight: 500; color: var(--text-dark); }
.logout-btn { padding: 0; font-size: 14px; color: var(--text-light); }

/* Generic icon button overrides */
.search-btn { width: 36px; height: 36px; border-radius: 4px; color: #666; background: #f5f5f5; display: inline-flex; align-items: center; justify-content: center; }
.search-btn:hover { color: var(--primary-blue); background: #e6f3ff; }
.mobile-menu-btn { display: none; width:36px; height:36px; border-radius:4px; background: transparent; color: var(--primary-blue); align-items:center; justify-content:center; }
/* Mobile header: show compact header with logo + menu button */
@media (max-width: 768px) {
  .mobile-menu-btn { display: inline-flex !important; }
  /* Hide large desktop nav pieces on mobile to keep header compact */
  .nav-center { display: none !important; }
  /* Keep right container visible so the menu button can show */
  .nav-right { display: flex !important; }
  /* Hide all right-side children except the mobile menu trigger */
  .header-right > * { display: none !important; }
  .header-right > .mobile-menu-btn { display: inline-flex !important; }

  /* Make header tighter and center logo */
  .main-header.unified-header { padding: 6px 10px; }
  .nav-wrapper { padding: 0 12px; }
  .logo-text { font-size: 18px; font-weight:700; }
}

/* Auth buttons */
.login-btn { background: var(--primary-blue); border-color: var(--primary-blue); color: #fff; }
.register-btn { background: transparent; border-color: var(--primary-blue); color: var(--primary-blue); }
.login-btn, .register-btn { height: 36px; border-radius: 4px; font-weight: 600; font-size: 14px; display: inline-flex; align-items: center; gap: 6px; }

/* Search suggestions styling */
.nav-search .ant-select-dropdown {
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.nav-search .ant-select-item-option-disabled {
  cursor: default !important;
  color: #999 !important;
  font-weight: 600 !important;
  background: #f8f9fa !important;
}

.nav-search .ant-select-item-option:hover:not(.ant-select-item-option-disabled) {
  background: #f0f8ff !important;
}

/* Navigation (Ant Design overrides) */
.desktop-nav { display: flex; align-items: center; gap: var(--header-nav-gap); overflow: hidden; height: var(--header-bar-height); }
.main-nav-menu.unified { background: transparent !important; border-bottom: none !important; flex: 1 1 auto; min-width:0; display: flex !important; align-items: center; height: var(--header-bar-height); }
.main-nav-menu.unified .ant-menu-overflow-item-rest { display: none !important; }
.main-nav-menu.unified .ant-menu-overflow { display: flex !important; align-items: center; height: 100%; }
.main-nav-menu.unified .ant-menu-item { height:100% !important; line-height:normal !important; display:flex !important; align-items:center !important; color:#1a1a1a !important; margin:0 !important; padding:0 14px !important; /* reduced horizontal padding from 20px */ font-weight:600 !important; font-size:13px !important; text-transform:uppercase !important; letter-spacing:0.5px !important; transition:background var(--transition-fast) ease,color var(--transition-fast) ease !important; }
.main-nav-menu.unified .ant-menu-item:hover { background: rgba(0,0,0,0.04) !important; color: var(--primary-blue) !important; }
.main-nav-menu.unified .ant-menu-item-selected { background: transparent !important; color: inherit !important; }
.main-nav-menu.unified.no-select-effect .ant-menu-item-selected { background: transparent !important; color: inherit !important; }
.main-nav-menu.unified .ant-menu-item a { color: inherit !important; text-decoration: none; }

/* Dropdowns */
.nav-dropdowns.inline { display: flex; align-items: center; gap: 12px; }
.dropdown-btn { background: transparent; border: 1px solid #ccc; color: #1a1a1a; height: 36px; border-radius: 4px; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: .5px; display: inline-flex; align-items: center; gap: 6px; transition: background var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast); }
.dropdown-btn:hover { background: #f5f5f5; border-color: #bbb; color: var(--primary-blue); }

/* Ensure header dropdowns (language selector etc.) render above page content */
.main-header .ant-dropdown-trigger, .main-header .ant-btn {
  position: relative; /* create stacking context for the trigger/button */
}

/* Strong overlay rules: most AntD/rc overlay components use these classes or portals */
/* Ensure overlays (appended to body) sit above the fixed header */
body .ant-dropdown, body .ant-select-dropdown, body .ant-popover, body .rc-dropdown, body .rc-dialog, body .ant-tooltip {
  z-index: 2000 !important;
}

/* Specifically raise dropdown menu z-index as a fallback */
body .ant-dropdown .ant-dropdown-menu, body .ant-select-dropdown .ant-select-dropdown-menu {
  z-index: 2000 !important;
}

/* Removed old .top-inline-links (unused) */

/* Social (kept for potential future reâ€‘enable) */
.social-icons { display: flex; gap: 8px; }
.social-btn { width: 36px; height: 36px; border-radius: 4px; display: flex; align-items: center; justify-content: center; transition: transform .3s, box-shadow .3s; border: none; background: transparent; padding: 0; }
.social-btn.facebook { background: #1877F2; color: #fff; }
.social-btn.linkedin { background: #0077B5; color: #fff; }
.social-btn.youtube { background: #FF0000; color: #fff; }
.social-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }

/* -------------------------------------------------------------------------- */
/* Responsive (mobile behavior preserved)                                      */
/* -------------------------------------------------------------------------- */
@media (max-width: 1500px) {
  .nav-wrapper { padding: 0 var(--header-h-pad-lg); }
  .main-nav-menu.unified .ant-menu-item { padding:0 12px !important; }
}

@media (max-width: 992px) {
  .nav-dropdowns.inline { display: none; }
  .main-nav-menu.unified .ant-menu-item { padding:0 10px !important; }
  /* Ensure menu button is available on tablets */
  .nav-right { display: flex !important; }
  .mobile-menu-btn { display: inline-flex !important; }
}

@media (max-width: 768px) {
  .nav-wrapper { padding: 0 var(--header-h-pad-md); }
  .header-right { gap: 8px; }
  .social-icons { display: none; }
  .search-btn { display: none; }
  .auth-buttons { display: none; }
  .desktop-nav { display: none; }
  .mobile-menu-btn { display: flex !important; }
  .logo-text { font-size: 20px; }
}

@media (max-width: 480px) {
  .main-header { padding: 12px 0 !important; }
  .logo-text { font-size: 18px; }
}